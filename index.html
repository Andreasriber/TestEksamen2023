<!DOCTYPE html>
<html>
<head>
<title>Set Location Cookie Example</title>
<script>
function setCookie(cookieName, cookieValue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+ d.toUTCString();
    document.cookie = cookieName + "=" + cookieValue + ";" + expires + ";path=/";
}

function setLocationCookie(location) {
    setCookie("location", location, 7);
}
function redirectToRegionalServer() {
        const region = getCookie('location');
        let url;

        // send en cookie med ????

        switch(region) {
            case 'Bangalore':
                url = 'http://ind.joetrainer.live';
                break;
            case 'SanFrancisco':
                url = 'http://usa.joetrainer.live';
                break;
            case 'Sydney':
                url = 'http://aus.joetrainer.live';
                break;
            default:
                alert('Region cookie not set or unknown region');
                return;
        }

        window.location.href = url; // Redirect to the regional server
    }

    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    }


</script>
</head>
<body>

<button onclick="setLocationCookie('SanFrancisco')">Set Location to San Francisco</button>
<button onclick="setLocationCookie('Bangalore')">Set Location to Bangalore</button>
<button onclick="setLocationCookie('Sydney')">Set Location to Sydney</button>
<button id="redirectButton" onclick="redirectToRegionalServer()">Go to Regional Server</button>


</body>
</html>
